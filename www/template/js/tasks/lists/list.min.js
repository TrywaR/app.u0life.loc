function List(t,i,s,e){this.sTemplate=s,this.sTemplateElem="/templates/tasks/lists/elems/elem.htm",this.oTemplateElem={},this.oBlockWrap=i,this.oBlockList={},this.oListData=t,this.init=function(){var t=this;$.get(t.sTemplateElem).fail(function(i){status({error:"Шаблон не найден: "+t.sTemplateElem})}).done(function(i){if(!i)return!1;t.oTemplateElem=$("<div/>").html(i)}),$.get(t.sTemplate).fail(function(i){status({error:"Шаблон не найден: "+t.sTemplate})}).done(function(i){if(!i)return!1;$.when(t.oBlockWrap.append(content_loader_elem_html(t.oListData,$("<div/>").html(i)))).done(function(){t.oBlockList=t.oBlockWrap.find('.block_list[data-id="'+t.oListData.id+'"]'),t.oBlockList.find(".__list_edit").on("click",function(){$(this).parents("._list_head_actions").addClass("_active_")}),t.oBlockList.find(".__list_editing").on("click",function(){$(this).parents("._list_head_actions").removeClass("_active_")}),t.oBlockList.find(".__list_del").on("click",function(){if(!confirm("Confirm delete"))return!1;$.when(content_download({action:"tasks_lists",form:"del",id:t.oListData.id},"json",!1)).then(function(i){if(!i)return!1;sAnimateClass=t.oBlockList.data().animate_class?t.oBlockList.data().animate_class:"animate__zoomOut",t.oBlockList.removeClassWild("animate_*").addClass("animate__animated "+sAnimateClass),setTimeout(function(){console.log("remove"),t.oBlockList.remove()},500)})})})})},this.load_elems=function(){},this.init()}$.fn.list=function(t){new List(t,this,"/templates/tasks/lists/list.htm")};