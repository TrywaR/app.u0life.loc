function content_filter_init(t){var e=new URLSearchParams(window.location.search),a=t.find("input,select").length-1;t.find("input,select").each(function(n,r){var i=e.get($(this).attr("name"));i&&$(this).val(i),a==n&&setTimeout(function(){content_filter_active(t)},300)}),t.find("select").each(function(t,e){$(e).select2({selectionCssClass:":all:",templateSelection:function(t){if(!t.id)return t.text;if(t.element&&$(t.element).data().color){return $('<span class="_color" style="background:'+$(t.element).data().color+';"></span><span class="_text">'+t.text+"</span>")}return t.text},templateResult:function(t,e){if(t.element&&$(t.element).data().color){return $('<span class="_color" style="background:'+$(t.element).data().color+';"></span><span class="_text">'+t.text+"</span>")}return t.text}})}),t.on("submit",function(){$(document).find(arrPageParams.content_filter_block).addClass("animate__animated animate__headShake");var e=new URL(window.location);return $.each(t.serializeArray(),function(t,a){e.searchParams.set(a.name,a.value),history.pushState(null,null,e)}),content_filter_active(t),t.parents("._block_content").removeClass("_show_"),!1})}function content_filter_active(t){var e=0,a=t.find("input,select").length-1;arrPageParams.content_filter_active=!1,t.removeClass("_active_"),arrPageParams.content_filter_status&&$(document).find(arrPageParams.content_filter_status).removeClass("__on"),t.find("input,select").each(function(n,r){parseInt($(this).val())||$(this).val().length>1?($(this).addClass("_active_"),e++):$(this).removeClass("_active_"),a==n&&(e&&(arrPageParams.content_filter_active=!0,arrPageParams.content_filter_status&&$(document).find(arrPageParams.content_filter_status).addClass("__on"),t.addClass("_active_")),$(document).find(arrPageParams.content_filter_block).data("content_loader_filter",t.serializeArray()),setTimeout(function(){$(document).find(arrPageParams.content_filter_block).html(""),$(document).find(arrPageParams.content_filter_block).content_loader()},300))})}$.fn.content_filter=function(){arrPageParams.content_filter_action=this.data().content_filter_action,arrPageParams.content_filter_block=this.data().content_filter_block,arrPageParams.content_filter_item=this.data().content_filter_item,arrPageParams.content_filter_status=this.data().content_filter_status,arrPageParams.content_filter_button=this.data().content_filter_button,arrPageParams.content_filter_active=!1,oFilter=$(this),content_filter_init(oFilter)};